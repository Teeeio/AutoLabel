<svg width="1200" height="900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-size: 24px; font-weight: bold; fill: #1e293b; }
      .section-title { font-size: 16px; font-weight: 600; fill: #334155; }
      .box { fill: #ffffff; stroke: #94a3b8; stroke-width: 2; rx: 8; }
      .box-header { fill: #f1f5f9; }
      .box-title { font-size: 14px; font-weight: 600; fill: #0f172a; }
      .box-text { font-size: 12px; fill: #475569; }
      .arrow { stroke: #3b82f6; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .dashed-arrow { stroke: #64748b; stroke-width: 2; fill: none; stroke-dasharray: 5,5; marker-end: url(#arrowhead-gray); }
      .data-flow { stroke: #059669; stroke-width: 2; fill: none; marker-end: url(#arrowhead-green); }
      .component { fill: #dbeafe; stroke: #3b82f6; stroke-width: 2; rx: 6; }
      .component-title { font-size: 13px; font-weight: 600; fill: #1d4ed8; }
      .storage { fill: #fef3c7; stroke: #f59e0b; stroke-width: 2; rx: 6; }
      .storage-title { font-size: 13px; font-weight: 600; fill: #b45309; }
      .api { fill: #f3e8ff; stroke: #9333ea; stroke-width: 2; rx: 6; }
      .api-title { font-size: 13px; font-weight: 600; fill: #7e22ce; }
      .badge { fill: #059669; rx: 4; }
      .badge-text { font-size: 10px; fill: #ffffff; font-weight: 600; }
      .cv-badge { fill: #3b82f6; rx: 4; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#3b82f6"/>
    </marker>
    <marker id="arrowhead-gray" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#64748b"/>
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#059669"/>
    </marker>
  </defs>

  <!-- æ ‡é¢˜ -->
  <text x="600" y="40" text-anchor="middle" class="title">å¿«é€Ÿéšèˆç”Ÿæˆå™¨ - ç³»ç»Ÿæ¶æ„å›¾</text>

  <!-- ==================== å·¦ä¾§ï¼šå¡ç‰‡ç®¡ç†åŒºåŸŸ ==================== -->

  <!-- å¡ç‰‡æ±  -->
  <rect x="50" y="80" width="280" height="320" class="box"/>
  <rect x="50" y="80" width="280" height="35" class="box-header" rx="8"/>
  <rect x="50" y="108" width="280" height="7" fill="#f1f5f9"/>
  <text x="190" y="105" text-anchor="middle" class="box-title">å¡ç‰‡æ±  (GeneratorPage)</text>

  <g transform="translate(70, 130)">
    <rect x="0" y="0" width="240" height="70" class="component"/>
    <text x="120" y="20" text-anchor="middle" class="component-title">å¡ç‰‡æºåˆ‡æ¢</text>
    <text x="120" y="40" text-anchor="middle" class="box-text">â€¢ æˆ‘çš„å¡ç‰‡ (æœ¬åœ°+æœåŠ¡å™¨)</text>
    <text x="120" y="55" text-anchor="middle" class="box-text">â€¢ æ”¶è—å¤¹ (æ”¶è—çš„å¡ç‰‡)</text>
  </g>

  <g transform="translate(70, 210)">
    <rect x="0" y="0" width="240" height="60" class="component"/>
    <text x="120" y="20" text-anchor="middle" class="component-title">å¡ç‰‡æœç´¢</text>
    <text x="120" y="40" text-anchor="middle" class="box-text">æŒ‰æ ‡é¢˜/BVID/æ ‡ç­¾æœç´¢</text>
  </g>

  <g transform="translate(70, 280)">
    <rect x="0" y="0" width="240" height="100" class="component"/>
    <text x="120" y="20" text-anchor="middle" class="component-title">å¡ç‰‡åˆ—è¡¨</text>
    <text x="50" y="45" class="box-text">ğŸ“Œ å¡ç‰‡æ ‡é¢˜</text>
    <text x="50" y="60" class="box-text">ğŸ”– CVå· (å¦‚: CV1a2B3c4)</text>
    <text x="50" y="75" class="box-text">â±ï¸ ç‰‡æ®µæ—¶é•¿ (00:30)</text>
    <rect x="150" y="65" width="70" height="18" class="badge"/>
    <text x="185" y="78" text-anchor="middle" class="badge-text">NEW</text>
  </g>

  <!-- é…ç½®é¢æ¿ -->
  <rect x="50" y="420" width="280" height="280" class="box"/>
  <rect x="50" y="420" width="280" height="35" class="box-header" rx="8"/>
  <rect x="50" y="448" width="280" height="7" fill="#f1f5f9"/>
  <text x="190" y="445" text-anchor="middle" class="box-title">é…ç½®é¢æ¿</text>

  <g transform="translate(70, 470)">
    <rect x="0" y="0" width="240" height="70" class="component"/>
    <text x="120" y="20" text-anchor="middle" class="component-title">å·²é€‰å¡ç‰‡</text>
    <text x="120" y="40" text-anchor="middle" class="box-text">æ˜¾ç¤ºé¡ºåºã€ç§»é™¤æ“ä½œ</text>
    <text x="120" y="55" text-anchor="middle" class="box-text">æ”¯æŒæ‹–æ‹½æ’åº</text>
  </g>

  <g transform="translate(70, 550)">
    <rect x="0" y="0" width="240" height="130" class="component"/>
    <text x="120" y="20" text-anchor="middle" class="component-title">æ‹¼æ¥è§„åˆ™</text>
    <text x="20" y="45" class="box-text">â€¢ ç›´æ¥æ‹¼æ¥</text>
    <text x="20" y="65" class="box-text">â€¢ äº¤å‰æ·¡å…¥æ·¡å‡º</text>
    <text x="20" y="85" class="box-text">â€¢ é‡å æ—¶é•¿: {é‡å ç§’æ•°}</text>
    <text x="20" y="105" class="box-text">â€¢ æ·¡å…¥æ·¡å‡ºæ—¶é•¿: {ç§’æ•°}</text>
  </g>

  <!-- ==================== ä¸­é—´ï¼šå¤„ç†æµç¨‹ ==================== -->

  <!-- ç”Ÿæˆå¼•æ“ -->
  <rect x="400" y="80" width="300" height="200" class="box"/>
  <rect x="400" y="80" width="300" height="35" class="box-header" rx="8"/>
  <rect x="400" y="108" width="300" height="7" fill="#f1f5f9"/>
  <text x="550" y="105" text-anchor="middle" class="box-title">ç”Ÿæˆå¼•æ“ (Generator)</text>

  <g transform="translate(420, 130)">
    <rect x="0" y="0" width="260" height="50" class="component"/>
    <text x="130" y="20" text-anchor="middle" class="component-title">useGenerator Hook</text>
    <text x="130" y="38" text-anchor="middle" class="box-text">çŠ¶æ€ç®¡ç†ã€å¡ç‰‡é€‰æ‹©ã€é…ç½®</text>
  </g>

  <g transform="translate(420, 190)">
    <rect x="0" y="0" width="260" height="70" class="api"/>
    <text x="130" y="20" text-anchor="middle" class="api-title">IPC è°ƒç”¨</text>
    <text x="130" y="40" text-anchor="middle" class="box-text">generator:run</text>
    <text x="130" y="55" text-anchor="middle" class="box-text">â†’ ä¼ é€’å¡ç‰‡åˆ—è¡¨å’Œé…ç½®</text>
  </g>

  <!-- å¤„ç†æµç¨‹ -->
  <rect x="400" y="300" width="300" height="400" class="box"/>
  <rect x="400" y="300" width="300" height="35" class="box-header" rx="8"/>
  <rect x="400" y="328" width="300" height="7" fill="#f1f5f9"/>
  <text x="550" y="325" text-anchor="middle" class="box-title">è§†é¢‘å¤„ç†æµç¨‹</text>

  <g transform="translate(420, 350)">
    <rect x="0" y="0" width="260" height="50" class="component"/>
    <text x="130" y="20" text-anchor="middle" class="component-title">1. ä¸‹è½½è§†é¢‘</text>
    <text x="130" y="38" text-anchor="middle" class="box-text">Bilibili / æœ¬åœ°æ–‡ä»¶</text>
  </g>

  <g transform="translate(420, 410)">
    <rect x="0" y="0" width="260" height="50" class="component"/>
    <text x="130" y="20" text-anchor="middle" class="component-title">2. ç‰‡æ®µè£å‰ª</text>
    <text x="130" y="38" text-anchor="middle" class="box-text">æŒ‰ start/end æ—¶é—´è£å‰ª</text>
  </g>

  <g transform="translate(420, 470)">
    <rect x="0" y="0" width="260" height="50" class="component"/>
    <text x="130" y="20" text-anchor="middle" class="component-title">3. æ‹¼æ¥å¤„ç†</text>
    <text x="130" y="38" text-anchor="middle" class="box-text">ç›´æ¥æ‹¼æ¥ / æ·¡å…¥æ·¡å‡º</text>
  </g>

  <g transform="translate(420, 530)">
    <rect x="0" y="0" width="260" height="50" class="component"/>
    <text x="130" y="20" text-anchor="middle" class="component-title">4. å¯¼å‡ºè§†é¢‘</text>
    <text x="130" y="38" text-anchor="middle" class="box-text">ç”Ÿæˆæœ€ç»ˆè§†é¢‘æ–‡ä»¶</text>
  </g>

  <g transform="translate(420, 590)">
    <rect x="0" y="0" width="260" height="90" class="storage"/>
    <text x="130" y="20" text-anchor="middle" class="storage-title">5. è¿›åº¦ä¸æ—¥å¿—</text>
    <text x="130" y="40" text-anchor="middle" class="box-text">â€¢ å®æ—¶è¿›åº¦æ›´æ–°</text>
    <text x="130" y="55" text-anchor="middle" class="box-text">â€¢ è¯¦ç»†æ—¥å¿—è¾“å‡º</text>
    <text x="130" y="70" text-anchor="middle" class="box-text">â€¢ é”™è¯¯æç¤º</text>
  </g>

  <!-- ==================== å³ä¾§ï¼šæ•°æ®å­˜å‚¨ ==================== -->

  <!-- æœ¬åœ°å¡ç‰‡å­˜å‚¨ -->
  <rect x="780" y="80" width="350" height="180" class="box"/>
  <rect x="780" y="80" width="350" height="35" class="box-header" rx="8"/>
  <rect x="780" y="108" width="350" height="7" fill="#f1f5f9"/>
  <text x="955" y="105" text-anchor="middle" class="box-title">æœ¬åœ°å¡ç‰‡å­˜å‚¨</text>

  <g transform="translate(800, 130)">
    <rect x="0" y="0" width="310" height="50" class="storage"/>
    <text x="155" y="20" text-anchor="middle" class="storage-title">localStorage</text>
    <text x="155" y="38" text-anchor="middle" class="box-text">key: "localCards"</text>
  </g>

  <g transform="translate(800, 190)">
    <rect x="0" y="0" width="310" height="60" class="component"/>
    <text x="155" y="20" text-anchor="middle" class="component-title">æœ¬åœ°å¡ç‰‡ç»“æ„</text>
    <text x="30" y="40" class="box-text">id: "local-{timestamp}"</text>
    <text x="180" y="40" class="box-text">localPath: "..."</text>
    <text x="30" y="55" class="box-text">source: "local"</text>
  </g>

  <!-- æœåŠ¡å™¨API -->
  <rect x="780" y="280" width="350" height="220" class="box"/>
  <rect x="780" y="280" width="350" height="35" class="box-header" rx="8"/>
  <rect x="780" y="308" width="350" height="7" fill="#f1f5f9"/>
  <text x="955" y="285" text-anchor="middle" class="box-title">æœåŠ¡å™¨ API (Express)</text>

  <g transform="translate(800, 330)">
    <rect x="0" y="0" width="310" height="40" class="api"/>
    <text x="155" y="18" text-anchor="middle" class="api-title">POST /api/cards</text>
    <text x="155" y="32" text-anchor="middle" class="box-text">åˆ›å»ºå¡ç‰‡ â†’ ç”ŸæˆCVå·</text>
  </g>

  <g transform="translate(800, 380)">
    <rect x="0" y="0" width="310" height="40" class="api"/>
    <text x="155" y="18" text-anchor="middle" class="api-title">GET /api/cards</text>
    <text x="155" y="32" text-anchor="middle" class="box-text">è·å–æˆ‘çš„å¡ç‰‡åˆ—è¡¨</text>
  </g>

  <g transform="translate(800, 430)">
    <rect x="0" y="0" width="310" height="40" class="api"/>
    <text x="155" y="18" text-anchor="middle" class="api-title">GET /api/cards/public</text>
    <text x="155" y="32" text-anchor="middle" class="box-text">æœç´¢å…¬å¼€å¡ç‰‡</text>
  </g>

  <g transform="translate(800, 480)">
    <rect x="0" y="0" width="310" height="10" class="storage"/>
    <rect x="100" y="0" width="120" height="20" class="cv-badge"/>
    <text x="160" y="14" text-anchor="middle" class="badge-text">CVå·ç³»ç»Ÿ</text>
  </g>

  <!-- æ•°æ®å­˜å‚¨ -->
  <rect x="780" y="520" width="350" height="180" class="box"/>
  <rect x="780" y="520" width="350" height="35" class="box-header" rx="8"/>
  <rect x="780" y="548" width="350" height="7" fill="#f1f5f9"/>
  <text x="955" y="545" text-anchor="middle" class="box-title">æ•°æ®å­˜å‚¨ (data.json)</text>

  <g transform="translate(800, 570)">
    <rect x="0" y="0" width="310" height="50" class="storage"/>
    <text x="155" y="20" text-anchor="middle" class="storage-title">cards[]</text>
    <text x="30" y="38" class="box-text">â€¢ CVå·: "CV1a2B3c4" (å”¯ä¸€ID)</text>
  </g>

  <g transform="translate(800, 630)">
    <rect x="0" y="0" width="310" height="50" class="storage"/>
    <text x="155" y="20" text-anchor="middle" class="storage-title">cardIdCounter</text>
    <text x="30" y="38" class="box-text">â€¢ è®¡æ•°å™¨: 0, 1, 2, 3...</text>
  </g>

  <!-- ==================== ç®­å¤´è¿æ¥ ==================== -->

  <!-- å¡ç‰‡æ±  â†’ é…ç½®é¢æ¿ -->
  <path d="M 190 400 L 190 420" class="arrow"/>

  <!-- é…ç½®é¢æ¿ â†’ ç”Ÿæˆå¼•æ“ -->
  <path d="M 330 560 L 400 560 L 400 180 L 400 180" class="arrow"/>

  <!-- ç”Ÿæˆå¼•æ“ â†’ å¤„ç†æµç¨‹ -->
  <path d="M 550 280 L 550 300" class="arrow"/>

  <!-- å¤„ç†æµç¨‹æ­¥éª¤ -->
  <path d="M 550 400 L 550 410" class="arrow"/>
  <path d="M 550 460 L 550 470" class="arrow"/>
  <path d="M 550 520 L 550 530" class="arrow"/>

  <!-- â† æœ¬åœ°å¡ç‰‡ -->
  <path d="M 780 210 L 700 210 L 700 160 L 340 160" class="data-flow"/>
  <text x="560" y="155" class="box-text" fill="#059669">æœ¬åœ°å¡ç‰‡</text>

  <!-- â† æœåŠ¡å™¨å¡ç‰‡ -->
  <path d="M 780 370 L 700 370 L 700 190 L 340 190" class="data-flow"/>
  <text x="560" y="185" class="box-text" fill="#059669">æœåŠ¡å™¨å¡ç‰‡ (CVå·)</text>

  <!-- â† æ”¶è—å¡ç‰‡ -->
  <path d="M 780 390 L 720 390 L 720 220 L 340 220" class="data-flow"/>
  <text x="560" y="215" class="box-text" fill="#059669">æ”¶è—å¤¹</text>

  <!-- ==================== åº•éƒ¨ï¼šè¾“å‡º ==================== -->

  <!-- é¢„è§ˆé¢æ¿ -->
  <rect x="400" y="730" width="300" height="150" class="box"/>
  <rect x="400" y="730" width="300" height="35" class="box-header" rx="8"/>
  <rect x="400" y="758" width="300" height="7" fill="#f1f5f9"/>
  <text x="550" y="755" text-anchor="middle" class="box-title">é¢„è§ˆé¢æ¿</text>

  <g transform="translate(420, 780)">
    <rect x="0" y="0" width="260" height="40" class="component"/>
    <text x="130" y="18" text-anchor="middle" class="component-title">åºåˆ—ç»Ÿè®¡</text>
    <text x="130" y="32" text-anchor="middle" class="box-text">æ€»æ—¶é•¿ã€å¡ç‰‡æ•°é‡</text>
  </g>

  <g transform="translate(420, 830)">
    <rect x="0" y="0" width="260" height="40" class="component"/>
    <text x="130" y="18" text-anchor="middle" class="component-title">ç”Ÿæˆç»“æœ</text>
    <text x="130" y="32" text-anchor="middle" class="box-text">è¾“å‡ºè·¯å¾„ã€è­¦å‘Šä¿¡æ¯</text>
  </g>

  <!-- å¤„ç†æµç¨‹ â†’ é¢„è§ˆ -->
  <path d="M 550 700 L 550 730" class="arrow"/>

  <!-- å›¾ä¾‹ -->
  <g transform="translate(780, 730)">
    <rect x="0" y="0" width="350" height="150" fill="#f8fafc" stroke="#e2e8f0" rx="8"/>
    <text x="175" y="25" text-anchor="middle" class="section-title">å›¾ä¾‹</text>

    <rect x="20" y="40" width="30" height="20" class="component"/>
    <text x="60" y="55" class="box-text">ç»„ä»¶/åŠŸèƒ½</text>

    <rect x="20" y="70" width="30" height="20" class="storage"/>
    <text x="60" y="85" class="box-text">å­˜å‚¨/æ•°æ®</text>

    <rect x="20" y="100" width="30" height="20" class="api"/>
    <text x="60" y="115" class="box-text">APIæ¥å£</text>

    <line x1="180" y1="50" x2="210" y2="50" class="arrow"/>
    <text x="220" y="55" class="box-text">æµç¨‹æ–¹å‘</text>

    <line x1="180" y1="80" x2="210" y2="80" class="data-flow"/>
    <text x="220" y="85" class="box-text">æ•°æ®æµ</text>

    <rect x="180" y="100" width="30" height="18" class="badge"/>
    <text x="195" y="113" text-anchor="middle" class="badge-text">NEW</text>
    <text x="220" y="115" class="box-text">æ–°åŠŸèƒ½</text>
  </g>

</svg>
